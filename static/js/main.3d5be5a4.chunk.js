(this["webpackJsonpproject-book"]=this["webpackJsonpproject-book"]||[]).push([[0],{146:function(e,t,a){e.exports=a(299)},151:function(e,t,a){},298:function(e,t,a){},299:function(e,t,a){"use strict";a.r(t);var n={};a.r(n),a.d(n,"setBooks",(function(){return m}));var r={};a.r(r),a.d(r,"setFilter",(function(){return R})),a.d(r,"setSearchQuery",(function(){return B}));var c=a(0),o=a.n(c),i=a(16),l=a.n(i),u=(a(151),a(8)),s=a(28),m=function(e){return{type:"SET_BOOKS",payload:e}},d=a(122),f=a(123),h=a(136),b=a(134),p=a(124),E=a.n(p),y=a(311),O=function(){return o.a.createElement(y.a,null,o.a.createElement(y.a.Item,{name:"browse",onClick:void 0},"\u041c\u0430\u0433\u0430\u0437\u0438\u043d \u043a\u043d\u0438\u0433"),o.a.createElement(y.a.Menu,{position:"right"},o.a.createElement(y.a.Item,{name:"signup",onClick:void 0},"\u0418\u0442\u043e\u0433\u043e: \xa0 ",o.a.createElement("b",null,"0")," \u0440\u0443\u0431."),o.a.createElement(y.a.Item,{name:"help",onClick:void 0},"\u041a\u043e\u0440\u0437\u0438\u043d\u0430 (",o.a.createElement("b",null,"0"),")")))},v=a(309),j=a(133),k=a(30),g=function(e){var t=e.title,a=e.author,n=e.price,r=e.image;return o.a.createElement(v.a,null,o.a.createElement(j.a,{src:r}),o.a.createElement(v.a.Content,null,o.a.createElement(v.a.Header,null," ",t," "),o.a.createElement(v.a.Meta,null,o.a.createElement("span",{className:"date"}," ",a," "))),o.a.createElement(v.a.Content,{extra:!0},o.a.createElement("a",null,o.a.createElement(k.a,{name:"rub"}),n)))},w=a(307),_=a(310),C=function(e){var t=e.setFilter,a=e.filterBuy,n=e.searchQuery,r=e.setSearchQuery;return o.a.createElement(y.a,{secondary:!0},o.a.createElement(y.a.Item,{name:"all",active:"all"===a,onClick:t.bind(void 0,"all")},"\u0412\u0441\u0435"),o.a.createElement(y.a.Item,{name:"price_high",active:"price_high"===a,onClick:t.bind(void 0,"price_high")},"\u0426\u0435\u043d\u0430 (\u0434\u043e\u0440\u043e\u0433\u0438\u0435)"),o.a.createElement(y.a.Item,{name:"price_low",active:"price_low"===a,onClick:t.bind(void 0,"price_low")},"\u0426\u0435\u043d\u0430 (\u0434\u0435\u0448\u0435\u0432\u044b\u0435)"),o.a.createElement(y.a.Item,{name:"author",active:"author"===a,onClick:t.bind(void 0,"author")},"\u0410\u0432\u0442\u043e\u0440"),o.a.createElement(y.a.Item,null,o.a.createElement(_.a,{onChange:function(e){return r(e.target.value)},icon:"search",value:n,placeholder:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 ..."})))},R=function(e){return{type:"SET_FILTER",payload:e}},B=function(e){return{type:"SET_QUERY",payload:e}},I=a(12),S=Object(s.b)((function(e){e.books;return{filterBuy:e.filter.filterBuy}}),(function(e){return Object(u.a)({},Object(I.b)(r,e))}))(C),T=function(e){Object(h.a)(a,e);var t=Object(b.a)(a);function a(){return Object(d.a)(this,a),t.apply(this,arguments)}return Object(f.a)(a,[{key:"componentWillMount",value:function(){var e=this.props.setBooks;E.a.get("/books.json").then((function(t){e(t.data)}))}},{key:"render",value:function(){var e=this.props,t=e.books,a=e.isReady;return o.a.createElement(w.a,null,o.a.createElement(O,null),o.a.createElement(S,null),o.a.createElement(v.a.Group,{itemsPerRow:4},a?t.map((function(e){return o.a.createElement(g,Object.assign({key:e.id},e))})):"\u0417\u0430\u0433\u0440\u0443\u0437\u043a\u0430..."))}}]),a}(c.Component),Q=a(55),L=a.n(Q),D=function(e,t,a){return function(e,t){switch(t){case"price_high":return L()(e,"price","desc");case"price_low":return L()(e,"price","asc");case"author":return L()(e,"author","asc");default:return e}}(function(e,t){return e.filter((function(e){return e.title.toLowerCase().indexOf(t.toLowerCase())>=0||e.author.toLowerCase().indexOf(t.toLowerCase())>=0}))}(e,a),t)},F=Object(s.b)((function(e){var t=e.books,a=e.filter;return{books:t.items&&D(t.items,a.filterBy,a.searchQuery),isReady:t.isReady}}),(function(e){return Object(u.a)({},Object(I.b)(n,e))}))(T);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));a(297),a(298);var M=a(132),x=a.n(M),A={isReady:!1,items:null},K=a(135),W={items:[]},Y={filterBy:"all",searchQuery:""},J=Object(I.c)({books:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:A,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_BOOKS":return Object(u.a)(Object(u.a)({},e),{},{items:t.payload,isReady:!0});case"SET_IS_READY":return Object(u.a)(Object(u.a)({},e),{},{isReady:t.payload});default:return e}},card:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:W,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"ADD_BOOK_TO_CARD":return Object(u.a)(Object(u.a)({},e),{},{items:[].concat(Object(K.a)(e.items),[t.payload])});case"REMOVE_BOOK_FROM_CARD":return Object(u.a)(Object(u.a)({},e),{},{items:e.items.filter((function(e){return e.id!=t.payload}))});default:return e}},filter:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Y,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_FILTER":return Object(u.a)(Object(u.a)({},e),{},{filterBy:t.payload});case"SET_QUERY":return Object(u.a)(Object(u.a)({},e),{},{searchQuery:t.payload});default:return e}}}),U=Object(I.d)(J,Object(I.a)(x.a));l.a.render(o.a.createElement(s.a,{store:U},o.a.createElement(F,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[146,1,2]]]);
//# sourceMappingURL=main.3d5be5a4.chunk.js.map